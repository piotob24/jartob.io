<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gra 4 – Dopasuj zwierzęta</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f8ff;
    margin: 0;
    padding: 20px;
    text-align: center;
  }
  h1 { color: #0a3d62; }
  .container { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; margin-top:20px; }
  .animals, .targets {
    display: grid;
    grid-template-columns: repeat(4, 100px);
    grid-auto-rows: 100px;
    gap: 12px;
    justify-content: center;
  }
  .animal, .target {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    border-radius: 10px;
    user-select: none;
  }
  .animal {
    background: #0a3d62;
    color: white;
    cursor: grab;
  }
  .target {
    background: #ffcc00;
    color: black;
    cursor: default;
  }
  .msg { margin-top: 15px; font-size: 1.2rem; color: #333; }
  .score { font-weight: bold; }
</style>
</head>
<body>
  <h1>Gra 5 – Dopasuj zwierzęta do środowiska 🐾</h1>
  <div class="container">
    <div class="animals" id="animals"></div>
    <div class="targets" id="targets"></div>
  </div>
  <div class="msg">Punkty: <span id="score">0</span></div>

<script>
const animalsData = [
  {name:'cow', icon:'🐄', target:'🌾'},        // pole
  {name:'dog', icon:'🐕', target:'🏠'},       // dom
  {name:'cat', icon:'🐈', target:'🛋️'},       // kanapa
  {name:'lion', icon:'🦁', target:'🌴'},      // sawanna
  {name:'horse', icon:'🐎', target:'🏇'},     // stajnia
  {name:'sheep', icon:'🐑', target:'🌿'},     // pastwisko
  {name:'duck', icon:'🦆', target:'💧'},      // staw
  {name:'elephant', icon:'🐘', target:'🏞️'}, // jezioro
  {name:'penguin', icon:'🐧', target:'❄️'},   // lód
  {name:'monkey', icon:'🐒', target:'🌳'},    // drzewo
  {name:'frog', icon:'🐸', target:'🌸'},      // lilia wodna
  {name:'bear', icon:'🐻', target:'⛰️'}       // góry
];

let score = 0;
const animalsDiv = document.getElementById('animals');
const targetsDiv = document.getElementById('targets');
const scoreEl = document.getElementById('score');

function shuffle(array){
  return array.sort(()=> Math.random()-0.5);
}

// utwórz zwierzęta do przeciągania
shuffle(animalsData).forEach(animal=>{
  const div = document.createElement('div');
  div.className='animal';
  div.textContent = animal.icon;
  div.draggable = true;
  div.dataset.name = animal.name;
  div.addEventListener('dragstart', dragStart);
  animalsDiv.appendChild(div);
});

// utwórz cele (środowiska)
shuffle(animalsData).forEach(animal=>{
  const div = document.createElement('div');
  div.className='target';
  div.textContent = animal.target;
  div.dataset.name = animal.name;
  div.addEventListener('dragover', dragOver);
  div.addEventListener('drop', drop);
  targetsDiv.appendChild(div);
});

// Drag & Drop funkcje
let dragged = null;
function dragStart(e){
  dragged = e.target;
}

function dragOver(e){
  e.preventDefault();
}

function drop(e){
  e.preventDefault();
  if(dragged && dragged.dataset.name === e.target.dataset.name){
    // poprawne dopasowanie
    dragged.style.visibility = 'hidden';
    e.target.style.visibility = 'hidden';
    score++;
    scoreEl.textContent = score;
    if(score === animalsData.length){
      alert("🎉 Brawo! Wszystkie zwierzęta dopasowane!");
    }
  }
  dragged = null;
}
</script>
</body>
</html>
