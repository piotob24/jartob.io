<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Puzzle</title>
<style>
body { font-family: Arial; text-align: center; background: #fafafa; }
#board { display: grid; grid-template-columns: repeat(4,100px); grid-gap: 2px; justify-content: center; margin-top: 20px; }
.tile { width: 100px; height: 100px; background: #3498db; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: move; }
</style>
</head>
<body>
<h1>Gra 4 - Puzzle liczbowe</h1>
<p>Ułóż liczby w kolejności.</p>
<div id="board"></div>
<p id="result"></p>
<script>
let board=document.getElementById("board");
let tiles=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(()=>0.5-Math.random());
tiles.forEach(n=>{
  let div=document.createElement("div");
  div.className="tile";
  div.innerText=n;
  div.setAttribute("draggable","true");
  div.addEventListener("dragstart",drag);
  div.addEventListener("drop",drop);
  div.addEventListener("dragover",allowDrop);
  board.appendChild(div);
});
let dragged=null;
function drag(ev){ dragged=ev.target; }
function allowDrop(ev){ ev.preventDefault(); }
function drop(ev){
  ev.preventDefault();
  if(ev.target.className==="tile"){
    let tmp=ev.target.innerText;
    ev.target.innerText=dragged.innerText;
    dragged.innerText=tmp;
    checkWin();
  }
}
function checkWin(){
  let tiles=document.querySelectorAll(".tile");
  let order=[...tiles].map(t=>parseInt(t.innerText));
  if(order.every((v,i)=>v===i+1)){
    document.getElementById("result").innerText="✅ Ułożone!";
  }
}
</script>
</body>
</html>
